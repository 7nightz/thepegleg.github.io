<!DOCTYPE html>
<html>
<head>
    <title>Restricted section - testers only</title>
</head>
<body>
    <h1>Enter code to access the hold</h1>
    <input type="text" id="userInput">
    <button onclick="hashAndStore()">argghh</button>

    <script>
        async function hashSha256(input) {
            const encoder = new TextEncoder();
            const data = encoder.encode(input);
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            const hashedInput = hashArray.map(byte => byte.toString(16).padStart(2, '0')).join('');
            return hashedInput;
        }

        async function hashAndStore() {
            // Get user input
            var userInput = document.getElementById("userInput").value;

            // Hash the user input using SHA-256
            var hashedInput = await hashSha256(userInput);

            // Store the hashed input in local storage
            localStorage.setItem("hashedInput", hashedInput);

            // Redirect to the second page
            window.location.href = "index_0.html";
        }
    </script>
</body>
</html>
