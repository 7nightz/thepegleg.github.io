<!DOCTYPE html>
<html>
<head>
    <title>Welcome to Atlas</title>
    <style>
        body {
            color: white;
            background-color: #000000;
            text-align: center;
            font-family: "Rye", serif;
            font-weight: 400;
            font-style: normal;
        }
        
        a {
            color: white;
            text-decoration: none;
        }
        
        #directory {
            color: white;
            margin: 0 auto;
            padding: 20px;
            max-width: 800px;
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rye&display=swap" rel="stylesheet">
</head>
<body>
    <div id="directory">
        <h1>Welcome to Atlas</h1>
	    <h2><a href="index.html">Home</a></h2>
        <h2>Welcome to Atlas. Credit to whoever made these. I took most of them from github.</h2>
        <h1>Games</h1>
        <ul id="gamesList">
            <a href="stickhook/">Stickman Hook</a><br>
            <a href="mayhem/">Gun mayhem 2</a><br>
            <a href="rooftop/">Rooftop snipers</a><br>
            <a href="flappy/">Flappy Bird</a><br>
            <a href="cookie/">Cookie Clicker</a><br>
            <a href="slope/">Slope</a><br>
            <a href="2048/">2048</a><br>
            <a href="ducklife3/">Duck Life 3</a><br>
      	    <a href="eagler/">One HTML file Eaglercraft. Has good FPS</a><br>
      	    <a href="snailbob/">Snail Bob</a><br>
      	    <a href="snailbob/2/">Snail Bob 2</a><br>
      	    <a href="snailbob/3/">Snail Bob 3</a><br>
      	    <a href="snailbob/4/">Snail Bob 4</a><br>
      	    <a href="snailbob/5/">Snail Bob 5</a><br>
            <a href="snailbob/6/">Snail Bob 6</a><br>
            <a href="snailbob/7/">Snail Bob 7</a><br>
            <a href="snailbob/8/">Snail Bob 8</a><br>
      	    <a href="bitlife/">Bitlife</a><br>
      	    <a href="eagleralt/">Regular Eaglercraft</a><br>
      	    <a href="portalflash/">Portal Flash Version</a><br>
      	    <a href="1v1lol/">1v1lol</a><br>
        </ul>
        <h1>Not-Games</h1>
        <ul>
            <a href="92vids/">92vids</a><br>
      	    <a href="flashplayer.html">Flash Player</a><br>
	    <a href="turbowarp.html">TurboWarp Packager</a><br>
      	    <a href="thehold/">The Hold - Crew Only</a><br>
        </ul>
    </div>

<script>
// GitHub API endpoint for retrieving repository contents
const repoUrl = 'https://api.github.com/repos/sebastian-92/game-assets/contents';

// Function to sort links alphabetically
function sortLinksAlphabetically(links) {
    return links.sort((a, b) => a.textContent.localeCompare(b.textContent));
}

// Fetch repository contents using GitHub API
fetch(repoUrl)
    .then(response => response.json())
    .then(data => {
        // Filter out folders from the response
        const folders = data.filter(item => item.type === 'dir');

        // Retrieve existing links
        const existingLinks = Array.from(document.querySelectorAll('#gamesList a'));
        
        // Create new links for the fetched folders
        const newLinks = folders.map(folder => {
            const link = document.createElement('a');
            link.href = `https://6619c65cdc2f1f177a68f15c--jsadnlfsjdkfnasuiefnxjkncdontblockme1.netlify.app/${folder.path}/index.html`;
            link.textContent = folder.name.replace(/-/g, " ");
            return link;
        });
        
        // Combine and sort links
        const allLinks = sortLinksAlphabetically(existingLinks.concat(newLinks));

        // Clear existing list
        const gamesList = document.getElementById('gamesList');
        gamesList.innerHTML = '';

        // Append sorted links back to the list
        allLinks.forEach(link => {
            gamesList.appendChild(link);
            // Add line break after each link
            gamesList.appendChild(document.createElement('br'));
        });
    })
    .catch(error => console.error('Error fetching data:', error));
</script>

</body>
</html>
